<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="row row-cols-1 g-3">
    <div class="col">
      <label for="title" class="form-label">Título:</label>
      <input
        id="title"
        type="text"
        class="form-control"
        formControlName="title"
        placeholder="Digite o título..."
        [ngClass]="currentClass()"
        [class.is-invalid]="getInput('title')?.invalid && getInput('title')?.touched"
        [class.is-valid]="getInput('title')?.valid && getInput('title')?.touched"
      />

      @if (getInput('title')?.touched && getInput('title')?.errors) {
      <small class="text-danger">
        @if (getInput('title')?.hasError('required')) { Título é obrigatório! }
      </small>
      }
    </div>

    <div class="col">
      <label for="body" class="form-label">Conteúdo:</label>
      <textarea
        id="body"
        class="form-control"
        formControlName="body"
        placeholder="Digite o conteúdo..."
        [ngClass]="currentClass()"
        rows="10"
        [class.is-invalid]="getInput('body')?.invalid && getInput('body')?.touched"
        [class.is-valid]="getInput('body')?.valid && getInput('body')?.touched"
      ></textarea>

      @if (getInput('body')?.touched && getInput('body')?.errors) {
      <small class="text-danger">
        @if (getInput('body')?.hasError('required')) { Conteúdo é obrigatório! }
      </small>
      }
    </div>

    <div class="col text-end">
      <button [disabled]="form.invalid || disabledButton()" class="btn btn-primary" type="submit">
        @if(post()){ Salvar Alterações } @else { Criar Post }
      </button>
    </div>
  </div>
</form>
